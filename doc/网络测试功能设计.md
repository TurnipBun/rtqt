# 网络功能测试模块设计 #

## 设备网口配置 ##

  * 主板4路网口，其中2路引出到后面板
  * 双冗余网卡1路双冗余网口
  
## 测试条件 ##

  * 双冗余网卡已初始化，并设置ip
  * 主板网口已配置ip
  * 所有ip在同一网段
  * 所有网口连接到交换机x
  
## 测试软件设计 ##

同样是通信功能的测试，原则上尽量复用CAN和串口通信测试功能的代码。测试时用户选取任意两个网口进行UDP发包通信来测试。其中第一个网口作为服务端，第二个网口作为客户端。同样需要提供收发包统计和log记录功能。

参数方面涉及ip设置和端口设置。其中ip可以根据计算机的实际ip人工输入，这样简单灵活，但用户容易输错；另一种方式是程序对系统ip进行枚举，供用户选择，这中方式难度稍大，尤其是在对vxworks系统还不太了解的情况下。

## 网络功能有效的依据 ##

  * 在大量收发包后，每个网口的错包率低于0.05%，丢包率低于0.05%。

## 主要的类 ##

  * 负责vxworks下socket通信的VxSock
  * 负责windows下socket通信的WinSock
  * 负责GUI的SockWedgit
  
VxSock和WinSock继承Comm类并实现相关接口。
SockWedgit继承ModuleWedgit，在其继承上添加自身相关的参数设置UI元素。
