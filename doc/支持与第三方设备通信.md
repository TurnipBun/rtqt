## 现状分析 ##

目前采用自发自收的方式，通信双方在同一个线程内，发送方发送数据后通过信号-槽机制跳转的接受方处理函数. 这种方式有点是实现简便。

## 为何要支持与第三方设备的通信 ##

  1. 第三方通信设备经过市场验证，具有一定权威性，能与第三方设备通信证明我们产品的通信功能在软硬件上是正常可用的。
  2. 与第三方设备通信也使得我们测试软件更加通用。

## 支持哪些第三方通信设备 ##

  1. **CAN**：支持周立功的CAN盒
  2. **NET**：支持普通PC机（需要开发pc端软件）
  3. **COM**：支持普通PC机（需要航插转标准串口线）
   
## 软件上的改动 ##

### 使用线程接收数据 ###

同步IO会导致程序停止响应需要配合多线程一起使用，接收数据的时候启动线程来处理，处理结束后使用信号通知UI进行更新，

### 部分统计功能失效 ###

  发送方，只能统计发包个数。
  接收方，只能统计收包个数。
  
### 类的设计（以网络通信为例） ###

  现有类：Comm，Sock
  要关联的类：QThread
  要实现的方法：QThread的run方法。
  
  根据多用组合少用继承的设计原则。UI对象持有QThread对象的引用，QThread对象持有Comm对象的引用。
  
  新建CommThread类来实现线程。CommThread初始化时使用具体的通信对象（Sock）来初始化所持有的Comm对象的引用。
  
  处理完毕后通过信号槽机制更新UI。
